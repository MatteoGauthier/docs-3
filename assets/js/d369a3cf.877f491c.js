"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[13928],{96815:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>g});var o=i(86070),s=i(76113);const r=i.p+"assets/images/organization-create-permission-70d33bcc3f1ce8b3f649b650f14d6368.webp",t=i.p+"assets/images/organization-create-role-7d84e5ef7a749dbc4493958bedc14d50.webp",a=i.p+"assets/images/organization-role-list-3dd8832bace7c9c403eda6ce1400bb55.webp",l={sidebar_position:2},d="Configure organizations",c={id:"docs/recipes/organizations/configuration",title:"Configure organizations",description:"Configure via Console",source:"@site/docs/docs/recipes/organizations/configuration.mdx",sourceDirName:"docs/recipes/organizations",slug:"/docs/recipes/organizations/configuration",permalink:"/docs/recipes/organizations/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/organizations/configuration.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Understand how organizations work",permalink:"/docs/recipes/organizations/understand-how-it-works"},next:{title:"Impact on end-user sign-in experience",permalink:"/docs/recipes/organizations/impact-on-end-users"}},h={},g=[{value:"Configure via Console",id:"configure-via-console",level:2},{value:"Configure organization template",id:"configure-organization-template",level:3},{value:"Create organization permission",id:"create-organization-permission",level:4},{value:"Create organization role",id:"create-organization-role",level:4},{value:"Create and manage organizations",id:"create-and-manage-organizations",level:3},{value:"Adding members and assigning organization roles",id:"adding-members-and-assigning-organization-roles",level:3},{value:"Configure via Management API",id:"configure-via-management-api",level:2},{value:"Example: Develop a platform or interface that enables your clients to manage identities within their organization",id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",level:3}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"configure-organizations",children:"Configure organizations"}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-console",children:"Configure via Console"}),"\n",(0,o.jsxs)(n.p,{children:["We'll go through the process of configuring the organizations feature via Logto Console (",(0,o.jsx)(n.a,{href:"https://cloud.logto.io/",children:"https://cloud.logto.io/"}),")."]}),"\n",(0,o.jsx)(n.h3,{id:"configure-organization-template",children:"Configure organization template"}),"\n",(0,o.jsx)(n.p,{children:"Configuring organizations can be divided into two parts: setting up organization templates and creating and managing organizations."}),"\n",(0,o.jsx)(n.p,{children:"First, navigate to the organization template in the left navigation menu. You will see that the organization template includes two parts: Organization Roles and Organization Permissions. An organization template defines shared access control policies (permissions and roles) for multiple organizations."}),"\n",(0,o.jsx)(n.h4,{id:"create-organization-permission",children:"Create organization permission"}),"\n",(0,o.jsx)(n.p,{children:"Organization permissions are a key part of organization templates. These permissions are designed specifically for organizations within your product. Here's how to manage them:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Find the org permissions tab:"}),' Go to the "org permissions" tab to see your existing permissions.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Add, delete, and edit:"})," You can easily add new organization permissions, delete ones you don't need, and edit existing permissions as required.","\n"," ","\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{alt:"Organization create permission",src:r,width:720})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"create-organization-role",children:"Create organization role"}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{alt:"Organization role list",src:a,width:720})}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{alt:"Organization create role",src:t,width:720})}),"\n",(0,o.jsx)(n.p,{children:"Logto lets you define organization roles in a variety of ways to fit your system's structure:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"1. Organization permissions only"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"When to use:"})," You have separate user/system endpoints and organization endpoints."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explanation:"})," This is the simplest approach if you clearly divide API permissions from organization permissions. Your organization roles only include the organization permissions you defined."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"2. API permissions only"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"When to use:"})," User and organization access control are handled by the same endpoints."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explanation:"})," Choose this if you want to manage all permissions through API resources registered in Logto cloud."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"3. Combining API and organization permissions"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"When to use:"})," You have separate endpoints defined for your product, but some user roles require a mix of both user-level and organization-level permissions."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explanation:"})," This offers the most flexibility, but can also be the most complex to manage."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"create-and-manage-organizations",children:"Create and manage organizations"}),"\n",(0,o.jsx)(n.p,{children:"In the organization list, you can create an organization and configure its details. On the organization details page, you can:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Modify the organization's name and description."}),"\n",(0,o.jsx)(n.li,{children:"Add members and give them organization roles."}),"\n",(0,o.jsx)(n.li,{children:"Update a user's membership status."}),"\n",(0,o.jsx)(n.li,{children:"Delete the organization."}),"\n",(0,o.jsx)(n.li,{children:"Access a guide to understand more about organizations and the organization template."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"adding-members-and-assigning-organization-roles",children:"Adding members and assigning organization roles"}),"\n",(0,o.jsx)(n.p,{children:"Users can hold one or more roles. When adding members to an organization, you have the option to assign roles to multiple users at once. If you leave this assignment blank, the added users will not receive any roles."}),"\n",(0,o.jsx)(n.p,{children:"In the user management section, on the user detail page, you can see which organizations the users belong to and what organization roles they have."}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-management-api",children:"Configure via Management API"}),"\n",(0,o.jsx)(n.p,{children:"Everything you can do in Console can also be done through Management API. This includes, but not limited to:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Create, delete, or edit an organization."}),"\n",(0,o.jsx)(n.li,{children:"Add users to the organization."}),"\n",(0,o.jsx)(n.li,{children:"Remove users from the organization."}),"\n",(0,o.jsx)(n.li,{children:"Manage organization template:"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add, delete, or edit organization roles."}),"\n",(0,o.jsx)(n.li,{children:"Add, delete, or edit organization permissions."}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"Assign or remove user's organization roles."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For a complete list of capabilities, please refer to our ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organizations",children:"API references"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",children:"Example: Develop a platform or interface that enables your clients to manage identities within their organization"}),"\n",(0,o.jsx)(n.p,{children:"A common scenario for your product involves having both admins and members. They will manage resources and identities at different levels."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Role"}),(0,o.jsx)(n.th,{children:"Permissions"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Admin"}),(0,o.jsx)(n.td,{children:"Able to invite users to and remove users from the organization."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Member"}),(0,o.jsx)(n.td,{children:"Only able to invite users to the organization."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"So we can define the following organization template:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Organization permissions: ",(0,o.jsx)(n.code,{children:"invite:users"}),", ",(0,o.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Organization roles:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"admin"})," with permissions ",(0,o.jsx)(n.code,{children:"invite:users"})," and ",(0,o.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"member"})," with permission ",(0,o.jsx)(n.code,{children:"invite:users"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can use ",(0,o.jsx)(n.code,{children:"POST /organization-scopes"})," in Management API to create the organization permissions first, then use ",(0,o.jsx)(n.code,{children:"POST /organization-roles"})," to create roles."]}),"\n",(0,o.jsx)(n.p,{children:"After organization template is set, you may also create two APIs in your service that call Management API under the hood for inviting and removing users in a specific organization. The APIs in your service should check organization access token to ensure the user has the right access. See Organization RBAC for details."})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},76113:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var o=i(30758);const s={},r=o.createContext(s);function t(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);